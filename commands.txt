from news.models import *
User.objects.create_user('admin2')
User.objects.create_user('Ivan')
Author.objects.create(user_id_id=1)
Author.objects.create(user_id_id=2)
Category.objects.create(name="Наука")
Category.objects.create(name="Политика")
Category.objects.create(name="Спорт")
Category.objects.create(name="Школа")
Post.objects.create(author_id=1,post_type=News,header='Сенсация',text='Щкольник из Москвы пробежал стометровку за 10 секунд!')
Post.objects.create(author_id=1,post_type=Article,header='2+2 для чайников',text='2 + 2 = 4')
Post.objects.create(author_id=2,post_type=Article,header='Важные даты Великой Французской Революции',text='1789 - начало революции. 14 июля 1789 - взятие Бастилии. 21 января 1793 - казнь Людовика XVI. 17 сентября 1793 - начало эпохи террора. 28 июля 1794 - казнь Робеспьера, конец эпохи террора.18 мая 1804 - Наполеон становится императором Франции.')
PostCategory.objects.create(post_id=1, category_id=3)
PostCategory.objects.create(post_id=1, category_id=4)
PostCategory.objects.create(post_id=2, category_id=1)
PostCategory.objects.create(post_id=3, category_id=2)
c1 = Comment.objects.create(post_id=1, user_id_id=1, text='Прошу прощения, в новости опечатка.')
c2 = Comment.objects.create(post_id=1, user_id_id=2, text='В следующий раз нужно проверять.')
c3 = Comment.objects.create(post_id=2, user_id_id=2, text='Кому может понадобиться эта информация?')
c4 = Comment.objects.create(post_id=3, user_id_id=1, text='Спасибо, очень полезная статья.')
p1 = Post.objects.get(pk=1)
p2 = Post.objects.get(pk=2)
p3 = Post.objects.get(pk=3)
p1.dislike()
p2.like()
p3.like()
p3.like()
p3.like()
c1.like()
c2.like()
c3.dislike()
c4.like()
a1 = Author.objects.get(pk=1)
a2 = Author.objects.get(pk=2)
a1.update_rating()
a2.update_rating()
print(User.objects.all().order_by('-author__rating').values("username", "author__rating")[0])
post_info = Post.objects.all().order_by("-rating").values('timestamp', 'author__user_id_id__username', 'rating', 'header')[0]
view = Post.objects.all().order_by("-rating")[0].preview()
print(str(post_info) + " " + view)
print(Comment.objects.filter(post_id=best_post.pk).values('timestamp', 'user_id_id__username', 'rating', 'text'))